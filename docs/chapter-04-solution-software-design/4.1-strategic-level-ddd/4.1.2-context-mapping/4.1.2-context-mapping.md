### 4.1.2. Context Mapping ###

Durante la fase de modelado en base al dominioe, hemos logrado identificar los siguientes contextos limitados: Inventory Management, Customer Orders, Sales Operation and Management, Profiles Management, Payments and Subscriptions, Alerts and Notifications y Identity and Access Management.
A continuación, explicaremos que tipo de relación existe entre estos contextos y cómo se comunican entre ellos.

**Análisis de Bounded Contexts**

-  **Profiles Management ↔ Identity and Access Management (IAM)**
    - Relación: Upstream (IAM) / Downstream (Profiles)
    - Patrón: **ACL** (Profiles traduce datos de usuario de IAM a su propio modelo de perfil)


-  **Identity and Access Management (IAM) ↔ Payments and Subscription**
    - Relación: Upstream (Payments) / Downstream (IAM)
    - Patrón: **ACL** (La creación de un usuario depende de la creación de una cuenta en Payments)


- **Payments and Subscription ↔ Inventory Management**
    - Relación: Upstream (Payments) / Downstream (Inventory)
    - Patrón: **ACL** (Inventory traduce beneficios del plan en reglas de capacidad: cuántos productos o almacenes puede registrar un usuario)


- **Inventory Management ↔ Alerts and Notifications**
    - Relación: Upstream (Inventory) / Downstream (Notifications)
    - Patrón: **PL** (Inventory emite eventos como `StockLow` o `ProductExpired`, que Notifications consume tal cual)


- **Inventory Management ↔ Customers Orders**
    - Relación: Upstream (Inventory) / Downstream (Orders)
    - Patrón: **ACL** (Orders traduce catálogo de productos de Inventory a su propio modelo de `OrderLine`)


- **Customers Orders ↔ Alerts and Notifications**
    - Relación: Upstream (Orders) / Downstream (Notifications)
    - Patrón: **PL** (Orders emite eventos como `OrderPlaced` o `OrderCancelled`, que Notifications consume para enviar confirmaciones)


- **Customers Orders ↔ Sales Operation and Management**
    - Relación: Upstream (Orders) / Downstream (Sales)
    - Patrón: **OHS + PL** (Sales expone un servicio/reportes estándar con un Published Language, y Orders consume esos reportes)

<img src="https://i.imgur.com/aMtSPHu.png" alt="stocksip-context-mapping" style="width: 100%; height: auto;"/>

Hemos identificado y analizado las relaciones entre los bounded context identificados. Para cada relación ha sido clasificada utilizando patrones de Context Mapping, lo que nos permite entender cómo interactúan los diferentes contextos y cómo se comunican entre sí. Esto es crucial para diseñar una arquitectura coherente y eficiente que soporte las necesidades del negocio.