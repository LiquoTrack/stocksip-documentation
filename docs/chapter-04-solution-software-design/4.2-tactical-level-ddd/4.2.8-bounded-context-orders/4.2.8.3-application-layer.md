#### 4.2.8.3. Application Layer ####


La **Application Layer** orquesta la ejecución de comandos y consultas para los agregados `PurchaseOrder` y `Cart`, delegando la lógica de negocio a la **Domain Layer** a través de los **CommandServices** y **QueryServices**.

---

## Command Services

Los **Command Services** son responsables de **procesar acciones que modifican el estado del dominio**, como crear, actualizar o eliminar entidades.  
Se encargan de recibir los **Commands**, validarlos y delegar la ejecución a los **Domain Services** y **Repositories** correspondientes.

| Nombre                          | Descripción                                   | Commands manejados                                                                            |
|---------------------------------|-----------------------------------------------|-----------------------------------------------------------------------------------------------|
| **PurchaseOrderCommandService** | Gestiona operaciones sobre órdenes de compra. | `CreatePurchaseOrderCommand, UpdatePurchaseOrderCommand, CancelPurchaseOrderCommand`          |
| **CartCommandService**          | Gestiona el ciclo de vida del carrito.        | `AddItemToCartCommand, RemoveItemFromCartCommand, UpdateCartItemCommand, CheckoutCartCommand` |

---

## Query Services

Los **Query Services** son responsables de **consultar y devolver datos del dominio** sin modificar su estado.  
Reciben **Queries**, consultan los **Repositories** y retornan los resultados al **Controller** o al consumidor de la API.

| Nombre                        | Descripción                                | Queries manejadas                                                                                                     |
|-------------------------------|--------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|
| **PurchaseOrderQueryService** | Exponer consultas sobre órdenes de compra. | `GetPurchaseOrderByIdQuery, GetPurchaseOrdersByBuyerQuery, GetPurchaseOrdersByStatusQuery, GetAllPurchaseOrdersQuery` |
| **CartQueryService**          | Exponer consultas sobre carritos.          | `GetCartByIdQuery, GetCartByBuyerQuery`                                                                               |