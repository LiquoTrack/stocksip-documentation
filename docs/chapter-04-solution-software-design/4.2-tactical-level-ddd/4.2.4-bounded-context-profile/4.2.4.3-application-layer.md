#### 4.2.4.3. Application Layer ####1

 La **Application Layer** coordina la ejecución de comandos y consultas para el agregado Profile, delegando la lógica de dominio a la Domain Layer mediante Command Services y Query Services. Su responsabilidad es orquestar flujos de aplicación: recibir Commands/Queries, validar/normalizar datos, gestionar transacciones y llamar a los servicios de dominio y repositorios apropiados.

 ---

## Command Services

Los **Command Services** procesan operaciones que modifican el estado del dominio (creación, actualización, eliminación y acciones sobre sub-componentes). Reciben los Commands, aplican validaciones de borde y delegan la ejecución a los **Domain Services** y **Repositories**.
| Nombre                            | Descripción                                                                                       | Commands manejados                                                                         |
| --------------------------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ |
| **ProfileCommandService**         | Orquesta la creación y actualización del agregado `Profile`.                                      | `CreateProfileCommand, UpdateProfileCommand, DeleteProfileCommand, ChangeAvatarCommand`    |

---

## Query Services

Los **Query Services** recuperan información del dominio sin producir efectos secundarios. Ejecutan **Queries**, consultan repositorios o proyecciones (read models) y devuelven **Controllers** optimizados para la capa de presentación.

| Nombre                          | Descripción                                                         | Queries manejadas                                                                           |
| ------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- |
| **ProfileQueryService**         | Provee acceso de solo lectura a perfiles y colecciones de perfiles. | `GetProfileByIdQuery, GetProfileByUserIdQuery, GetProfilesByNameQuery, GetAllProfilesQuery` |
