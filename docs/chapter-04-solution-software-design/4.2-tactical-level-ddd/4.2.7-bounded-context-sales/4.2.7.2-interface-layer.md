#### 4.2.7.1. Interface Layer ####

La **Interface Layer** expone los **controladores REST** que permiten a clientes externos (ejemplo: aplicaciones web, móviles o integraciones con otros sistemas) interactuar con el dominio de **Sales Order Management**.

Los **Controllers** orquestan la comunicación entre **CommandServices** y **QueryServices**, transformando solicitudes HTTP en **Commands/Queries**, y devolviendo las respuestas adecuadas mediante **Resources**.

---

## Controllers

| Nombre                    | Descripción                                             | Endpoints (ejemplos)                                                                                                                                                                                                                                                                                                                                           |
|---------------------------|---------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **SalesOrdersController** | Expone operaciones para gestionar las órdenes de venta. | `POST /api/sales-orders (CreateSalesOrder)`<br>`PUT /api/sales-orders/{id} (UpdateSalesOrder)`<br>`PUT /api/sales-orders/{id}/status (ChangeStatus)`<br>`DELETE /api/sales-orders/{id} (CancelSalesOrder)`<br>`GET /api/sales-orders/{id}`<br>`GET /api/sales-orders/by-buyer/{buyerId}`<br>`GET /api/sales-orders/status/{status}`<br>`GET /api/sales-orders` |

---

## Resources

Los **Resources** definen la estructura de datos que los clientes externos envían o reciben.

- **CreateSalesOrderResource**
  `
  {
    "PurchaseOrderId": "string",
    "BuyerId": "string",
    "Items": [
      { "ProductId": "string", "Quantity": 2, "UnitPrice": 100.50 }
    ]
  }`

---

## Assemblers

Se implementan componentes que transforman los Resources ↔ Entities/Aggregates, asegurando que la capa de interfaces no tenga lógica de negocio.

- `GetAllSalesOrderFromEntitiesAssembler` convierte `SalesOrder` (dominio) en un `SalesOrderResource` (DTO expuesto).