#### 4.2.3.3. Application Layer ####

La **Application Layer** orquesta la ejecución de comandos y consultas para los agregados de **Inventory Management**: `Warehouse`, `Product`, `Inventory`, `CareGuide`, `Catalog`, `CatalogItem`, `ProductExit` y `ProductTransfer`.  
Se encarga de procesar **Commands** y **Queries**, validarlos y delegar la lógica de negocio a la **Domain Layer** a través de los **CommandServices** y **QueryServices**.

---

## Command Services

Los **Command Services** son responsables de **procesar acciones que modifican el estado del dominio**, como crear, actualizar o eliminar entidades.  
Reciben los **Commands**, los validan y delegan la ejecución a los **Domain Services** y **Repositories** correspondientes.

| Nombre                            | Descripción                                               | Commands manejados                                                                        |
|-----------------------------------|-----------------------------------------------------------|-------------------------------------------------------------------------------------------|
| **WarehouseCommandService**       | Gestiona la creación y mantenimiento de almacenes.        | `CreateWarehouseCommand, UpdateWarehouseCommand, DeleteWarehouseCommand`                  |
| **ProductCommandService**         | Gestiona el ciclo de vida de los productos.               | `CreateProductCommand, UpdateProductCommand, DeleteProductCommand`                        |
| **InventoryCommandService**       | Gestiona el stock de productos en almacenes.              | `CreateInventoryCommand, UpdateInventoryCommand, TransferInventoryCommand`                |
| **CareGuideCommandService**       | Gestiona la creación y actualización de guías de cuidado. | `CreateCareGuideCommand, UpdateCareGuideCommand, DeleteCareGuideCommand`                  |
| **CatalogCommandService**         | Gestiona la publicación y mantenimiento de catálogos.     | `CreateCatalogCommand, UpdateCatalogCommand, DeleteCatalogCommand, PublishCatalogCommand` |
| **CatalogItemCommandService**     | Gestiona la inclusión de ítems en los catálogos.          | `CreateCatalogItemCommand, UpdateCatalogItemCommand, DeleteCatalogItemCommand`            |
| **ProductExitCommandService**     | Registra salidas de productos de inventario.              | `CreateProductExitCommand`                                                                |
| **ProductTransferCommandService** | Registra transferencias de productos entre almacenes.     | `CreateProductTransferCommand`                                                            |

---

## Query Services

Los **Query Services** son responsables de **consultar y devolver datos del dominio** sin modificar su estado.  
Reciben **Queries**, consultan los **Repositories** y retornan los resultados al **Controller** o al consumidor de la API.

| Nombre                          | Descripción                                         | Queries manejadas                                                                                       |
|---------------------------------|-----------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| **WarehouseQueryService**       | Expone consultas sobre almacenes.                   | `GetWarehouseByIdQuery, GetAllWarehousesQuery`                                                          |
| **ProductQueryService**         | Expone consultas sobre productos.                   | `GetProductByIdQuery, GetAllProductsQuery`                                                              |
| **InventoryQueryService**       | Expone consultas sobre inventarios y stock.         | `GetInventoryByIdQuery, GetInventoriesByWarehouseQuery, GetInventoriesByProductQuery`                   |
| **CareGuideQueryService**       | Expone consultas sobre guías de cuidado.            | `GetCareGuideByIdQuery, GetAllCareGuidesQuery, GetCareGuidesByProductQuery`                             |
| **CatalogQueryService**         | Expone consultas sobre catálogos publicados o no.   | `GetCatalogByIdQuery, GetAllCatalogsQuery, GetPublishedCatalogsQuery`                                   |
| **CatalogItemQueryService**     | Expone consultas sobre ítems de catálogos.          | `GetCatalogItemByIdQuery, GetCatalogItemsByCatalogQuery`                                                |
| **ProductExitQueryService**     | Expone consultas sobre salidas de inventario.       | `GetProductExitByIdQuery, GetProductExitsByInventoryQuery, GetProductExitsByDateRangeQuery`             |
| **ProductTransferQueryService** | Expone consultas sobre transferencias de productos. | `GetProductTransferByIdQuery, GetProductTransfersByWarehouseQuery, GetProductTransfersByDateRangeQuery` |
